!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("rcg",[],t):"object"==typeof exports?exports.rcg=t():e.rcg=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";r.r(t),r.d(t,"core",(function(){return o}));var n=r(2),o=new(function(){function e(){}return e.prototype.isNull=function(e){return null===e},e.prototype.toArray=function(e){return Array.from?Array.from(e):Array.prototype.slice.call(e)},e.prototype.isArray=function(e){return Array.isArray(e)},e.prototype.isString=function(e){return"string"==typeof e},e.prototype.isBoolean=function(e){return"boolean"==typeof e},e.prototype.isNumber=function(e){return"number"==typeof e},e.prototype.isFunction=function(e){return"function"==typeof e},e.prototype.isObject=function(e){return e&&"object"==typeof e},e.prototype.apply=function(e,t,r){if(r&&this.apply(e,r),e&&t&&this.isObject(t))for(var n in t)this.isArray(t[n])?e[n]=this.clone(t[n]):this.isObject(t[n])?this.apply(e[n]=e[n]||{},t[n]):e[n]=t[n];return e},e.prototype.clone=function(e){var t=this;return this.isArray(e)?e.slice(0):this.isObject(e)&&e.clone?e.clone():this.isObject(e)?Object.keys(e).reduce((function(r,n){return r[n]=t.clone(e[n]),r}),{}):e},e.prototype.join=function(e,t,r){return e.reduce((function(e,r){return e.append(r[t||"id"])}),[]).join(void 0===r?"-":r||"")},e.prototype.createStringBuilder=function(e){return{value:e||"",append:function(e){return this.value=this.value+e,this},appendLine:function(e){return this.value=this.value+(e||"")+"\n",this}}},e.prototype.$=function(e,t){var r,n=document.getElementById(e);return n||((r=t?t.querySelectorAll(e):document.querySelectorAll(e)).length?r.toArray():null)},e.prototype.element=function(e,t){return document.getElementById(e)||this.elements(e,t)[0]},e.prototype.elements=function(e,t){return(t||document).querySelectorAll(e).toArray()},e.prototype.build=function(e,t,r){var n=this.isString(t)?{innerHTML:t}:t,o=this.apply(document.createElement(e),n);return r?o.firstElementChild:o},e.prototype.parseQueryString=function(){return location.search.slice(1).split("&").reduce((function(e,t){return e[t.split("=")[0]]=t.split("=")[1]||"",e}),{})},e.prototype.config=function(e){return{write:function(t,r){return localStorage.setItem("{0}.{1}".format(e,t),r),this},read:function(t){return localStorage.getItem("{0}.{1}".format(e,t))}}},e.prototype.getValue=function(e,t){return e.split(/\.|\[|\]/).reduce((function(e,t){if(""===t)return e;if("this"===t)return e;var r=t,n=t.indexOf("|")>-1,i=[];if(n){var u=String.trimValues(t.split("|"));r=u[0],i=String.trimValues(u[1].split(","))}var a=e[r];return void 0===a&&e.outerScope&&(a=o.getValue(r,e.outerScope)),null!=a?n?a.__proto__[i[0]].apply(a,i.slice(1)):a:e===self?"":self}),t||self)},e}());String.leftPad=function(e,t,r){var n=""+e;for(null!=r&&""!==r||(r=" ");n.length<t;)n=r+n;return n},String.trimValues=function(e){return e.map((function(e){return e.trim()}))},String.prototype.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1]||self,n=function(e,t,n){var i=String.trimValues(t).reduce((function(e,t){return e.push("@"==t.charAt(0)?o.getValue(t.slice(1),r):t),e}),n);return e.apply(r,i)};return this.replace(/\{(\d+|[^{]+)\}/g,(function(t,i){var u,a=String.trimValues(i.split(":")),c=a[0],s=a[1];if(/^\d+/.test(c)){var l=String.trimValues(c.split("|")),f=~~l[0],p=0==l.length?"data":["data"].concat(l.slice(1)).join("|"),d={data:e[f],outerScope:r};u=o.getValue(p,d)}else u=o.getValue(c,r);if(o.isFunction(u))return n(u,s?s.split(/\s|\;/):[],[]);if(s){var h=String.trimValues(s.split(/=>/)),m=h[0],v=h[1];return n(o.getValue(m,r),v?v.split(/\s|\;/):[],[u])}return u}))},String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},String.prototype.fixDate=function(){return this.split(" ")[0]},String.prototype.fixTime=function(){return this.split(" ")[1]},String.prototype.fixYear=function(){return this.fixDate().split("/")[2]},String.prototype.paddingLeft=function(e){return(e+this).slice(-e.length)},String.prototype.merge=function(e){return this.replace(/{([^{]+)?}/g,(function(t,r){if(r.indexOf(":")>0){var n=r.split(":");return o.getValue(n[0],e)(o.getValue(n[1],e),e)}var i=o.getValue(r,e);return"function"==typeof i?i(e):i}))},String.prototype.toXmlDocument=function(){return(new DOMParser).parseFromString(this,"text/xml")},String.prototype.htmlDecode=function(){return(new DOMParser).parseFromString(this,"text/html").documentElement.textContent},String.prototype.startsWith=String.prototype.startsWith||function(e){return 0==this.indexOf(e)},Array.prototype.remove=function(e){var t=this.indexOf(e);return-1!=t&&this.splice(t,1),this},Array.prototype.add=function(e){return this.push(e),e},Array.prototype.append=function(e){return this.push(e),this},Array.prototype.select=function(e){return o.isString(e)?this.map((function(t){return t[e]})):this.map(e)},Array.prototype.item=function(e,t,r){return this.filter((function(r){return r[e]==t}))[0]||r},Array.prototype.contains=function(e,t){return this.item(e,t)},Array.prototype.lastItem=function(){return this[this.length-1]},Array.prototype.where=function(e){return o.isFunction(e)?this.filter(e):o.isObject(e)?this.filter(new Function("a",Object.keys(e).reduce((function(t,r,n){return t+(n>0?" && ":"")+((i=e[r])instanceof RegExp?"{1}.test(a.{0})".format(r,i):o.isString(i)?"a.{0} === '{1}'".format(r,i):"a.{0} === {1}".format(r,i));var i}),"return "))):this},Array.prototype.sortBy=function(e,t){var r=[],n=e.split(",").map((function(e,t){var n=e.split(" ");return r[t]=n[1]&&"DESC"==n[1].toUpperCase()?-1:1,n[0]}));return r[0]=t?-1:1,this.sort((function(e,t){var o=0,i=function(e,t){var u=e[n[o]],a=t[n[o]];return u<a?-1*r[o]:u>a?1*r[o]:++o<n.length?i(e,t):0};return i(e,t)})),this},Array.prototype.orderBy=function(e){var t=o.isString(e)?function(t){return t[e]}:e;return this.map((function(e){return e})).sort((function(e,r){var n=t(e),o=t(r);return n<o?-1:n>o?1:0}))},Array.prototype.distinct=function(e){void 0===e&&(e="");var t=o.isString(e)?function(t){return e?t[e]:t}:e,r=[];return this.forEach((function(e){var n=t(e);-1==r.indexOf(n)&&r.push(n)})),r},Array.prototype.groupBy=function(e){return this.reduce((function(t,r){var n,o=(n=r,e.split(",").map((function(e){return n[e]})).join("__"));return(t[o]=t[o]||[]).push(r),t}),{})},Array.prototype.toGroupWrapper=function(e){var t=this,r=function(n,o,i){return e[i]={},t.distinct((function(e){return e[n]})).forEach((function(r){e[i][r]=t.reduce((function(e,t){return t[n]==r?e+t[o]:e}),0)})),r};return r},Array.prototype.sum=function(e){return this.reduce((function(t,r){return t+r[e]}),0)},Array.prototype.toDictionary=function(e,t){return this.reduce((function(r,n){return r[n[e]]=t?n[t]:n,r}),{})},Array.prototype.split=function(e){return this.reduce((function(t,r,o,i){return o%e?t:Object(n.a)(t,[i.slice(o,o+e)])}),[])},Array.prototype.includes=Array.prototype.includes||function(e,t){return-1!=this.indexOf(e)},NodeList.prototype.toArray=function(){return Array.from?Array.from(this):o.toArray(this)},Object.entries=Object.entries||function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}},function(e,t,r){"use strict";r.r(t);var n=r(2),o=new Map,i=-1;t.default={subscribe:function(e,t){o.has(e)||o.set(e,[]);var r=(++i).toString();return o.get(e).push({token:r,func:t}),r},publish:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return!!o.has(e)&&(setTimeout((function(){for(var r,i=o.get(e),u=i?i.length:0;u--;)(r=i[u]).func.apply(r,Object(n.a)([e],t))}),0),!0)},unsubscribe:function(e){for(var t in o.keys){var r=o.get(t);if(r)for(var n=0,i=r.length;n<i;n++)if(r[n].token===e)return r.splice(n,1),e}return!1},TOPICS:{VIEW_CHANGE:"view:change",VALUE_CHANGE:"value:change",MUNICIPIO_CHANGE:"municipio:change",WINDOW_SCROLL:"window.scroll",WINDOW_RESIZE:"window.resize",NOTIFICATION:"notification.show"}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));function n(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)n[o]=i[u];return n}},function(e,t,r){"use strict";r.r(t),r.d(t,"merge",(function(){return i})),r.d(t,"executeTemplate",(function(){return a})),r.d(t,"fillTemplate",(function(){return u}));var n=r(2),o=r(0);function i(e,t,r){var n=function(e,n,i){var u=String.trimValues(n).reduce((function(e,r){return e.push("@"==r.charAt(0)?o.core.getValue(r.slice(1),t):r),e}),i);return r&&u.push(r),e.apply(t,u)};return e.replace(/{([^{]+)?}/g,(function(e,r){if(r.indexOf(":")>0){var i=String.trimValues(r.split(":")),u=o.core.getValue(i[0],t),a=String.trimValues(i[1].split(/=>/)),c=a[0],s=a[1],l=s?String.trimValues(s.split(/\s|\;/)):[];return n(o.core.getValue(c,t),l,[u])}var f=String.trimValues(r.split(/=>/)),p=f[0],d=f[1],h=o.core.getValue(p,t);return o.core.isFunction(h)?n(h,d.split(/\s|\;/),[]):h}))}function u(e,t){var r=e,a=r.querySelectorAll("[xfor]").toArray(),c=a.reduce((function(e,t){return e.concat(o.core.$("[xbind]",t))}),Object(n.a)(a)),s=r.querySelectorAll("[xbind]").toArray().filter((function(e){return!c.includes(e)}));return r.attributes.getNamedItem("xbind")&&s.push(r),s.forEach((function(e){if(e.attributes.getNamedItem("xif")){var r=new Function("ctx","return {0};".format(e.attributes.getNamedItem("xif").value).replaceAll("@","this."));e.style.display=r.apply(t)?"":"none"}o.core.toArray(e.attributes).where({value:/{[^{]+?}/g}).map((function(e){return e.value=i(e.value,t)})),o.core.toArray(e.childNodes).where({nodeType:3}).where({textContent:/{[^{]+?}/g}).forEach((function(e){return e.textContent=i(e.textContent,t,e)})),String.trimValues(e.attributes.getNamedItem("xbind").value.split(";")).forEach((function(r){if(""!==r){var n=String.trimValues(r.split(":")),i=n[0],u=n[1],a=String.trimValues(u.split(/=>/)),c=a[0],s=a[1],l=o.core.getValue(c,t);if(o.core.isFunction(l)){var f=String.trimValues((s||"").split(/\s|#/)).reduce((function(e,r){return e.push("@"==r.charAt(0)?o.core.getValue(r.slice(1),t):r),e}),[]);f.push(e),l=l.apply(t,f)}i&&(e[i]=l)}}))})),a.map((function(e){var r=String.trimValues(e.attributes.getNamedItem("xfor").value.split(" in ")),n=r[0],i=r[1],a=o.core.getValue(i,t);return a&&a!=window&&a.map((function(r,i){var a={index:i,outerScope:t};a[n]=o.core.clone(r);var c=u(e.cloneNode(!0),a);e.parentNode.insertBefore(c,e)})),e})).forEach((function(e){return e.parentNode.removeChild(e)})),e}function a(e,t,r){var n=o.core.isString(e)?o.core.$(e):e,i=t.reduce((function(e,t,o){var i={index:o,data:t,node:u(n.cloneNode(!0),t)};return e.nodes.push(i),r||e.html.push(i.node.outerHTML.replace(/xbind="[^"]*"/g,"")),e}),{nodes:[],html:[]});return r?i.nodes:i.html.join("")}},function(e,t,r){"use strict";r.r(t),r.d(t,"CoreEvent",(function(){return o}));var n=0,o=function(){function e(e){this._name=e,this._subscribers=new Map}return e.prototype.dispatch=function(e){var t=this;return this._subscribers.forEach((function(r){return r(t._name,e)})),this},e.prototype.add=function(e){return this._subscribers.set(++n,e),n},e.prototype.remove=function(e){return this._subscribers.delete(e)},e}()},function(e,t){e.exports="\r\n.svc_viewer{overflow:hidden;}\r\n.scv_Main  {position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto;padding:0;}     \r\n.scv_TextContainer{ position:absolute;top:0;left:4.4em;right:0;height:auto;z-index:4;margin:0;user-select: text; }\r\n.scv_TextContainer{ padding:.4em;white-space:pre;overflow:initial;font-family:Monospace;tab-size:4;}\r\n.scv_LineContainer{ padding:.4em;position:absolute;top:0;left:0;height:auto;margin:0;z-index:5;overflow:hidden;background-color:lightyellow;border-right:solid 1px silver;}\r\n.scv_LineContainer{ font-weight:bold;font-family:Monospace;color:Gray;text-align:right;width:3.5em;box-sizing:border-box;user-select:none }\r\n"},function(e,t,r){var n=r(0);n.ajax=r(7),n.commands=r(8),n.declarative=r(9),n.dialogs=r(10),n.events=r(4),n.include=r(11),n.paginator=r(12),n.pubSub=r(1),n.templates=r(3),n.reportLoader=r(13),n.reportEngine=r(14),n.jsReportLoader=r(15),n.jsReportEngine=r(16),n.version=r(17),n.controls={grid:r(18),textViewer:r(19),collapsibleBox:r(20)},n.tre=r(21),e.exports=n},function(e,t,r){"use strict";r.r(t),r.d(t,"ajax",(function(){return n}));var n={get:function(e,t){return new Promise((function(r,o){var i=n.createXMLHttpRequest();i.open("GET",e,!0),t&&t(i),i.onreadystatechange=function(){4==i.readyState&&r(i.responseText)},i.onerror=function(e){o(e)},i.send(null)}))},post:function(e,t,r){return new Promise((function(o,i){var u=n.createXMLHttpRequest();u.open("POST",e,!0),r?r(u):u.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset:ISO-8859-1"),u.onreadystatechange=function(){4==u.readyState&&o(u.responseText)},u.send(t)}))},callWebMethod:function(e,t,r){var o=n.createXMLHttpRequest();o.open("POST",e,!0),o.onreadystatechange=function(){4==o.readyState&&r(o.responseText)},o.setRequestHeader("Content-type","application/json; charset=utf-8"),o.send(t)},createXMLHttpRequest:function(){return new XMLHttpRequest}}},function(e,t,r){"use strict";function n(e){var t={getDocument:function(){return e},undos:new Array,redos:new Array,clear:function(){t.undos.length=0,t.redos.length=0},executeCommad:function(r){try{t.undos.push(r.execute(e)),t.redos.length=0}catch(e){console.error(e)}},undo:function(){t.undos.length>0&&t.redos.push(t.undos.pop().undo(e))},redo:function(){t.redos.length>0&&t.undos.push(t.redos.pop().execute(e))}};return t}r.r(t),r.d(t,"CommandManager",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"addEventListeners",(function(){return a}));var n=r(2),o=r(0),i=r(1),u=["[on-click]","[on-publish]","[route-link]","[on-change]"];function a(e,t,r){var a={innerHTML:function(e,t,r){return e.innerHTML=t},innerText:function(e,t,r){return e.innerText=t},className:function(e,t){return e.className=t},append:function(e,t,r){return e.innerHTML+=t}};u.forEach((function(u,c){e.querySelectorAll(u).toArray().concat([e]).forEach((function(e){var s=u.replace("[","").replace("]","");if(e.attributes.getNamedItem(s)){var l=e.attributes.getNamedItem(s).value,f=l.split(":");if(0!==c){if(1===c){var p=o.core.getValue(f[0],i.default);p=p===window?f[0]:p,i.default.subscribe(p,(function(i,u){var c=f[1];if(c){var s=a[c]||t[c]||o.core.getValue(c,r);s&&s.apply(r,Object(n.a)([e,u],f.slice(2)))}else a.innerHTML(e,u,f[1])}))}if(2===c&&(e.onclick=function(e){return!1}),3===c){var d="SELECT"===e.tagName;if("publish"===l)return void(d?e.onchange=function(){return i.default.publish(i.default.TOPICS.VALUE_CHANGE,e)}:e.oninput=function(){return i.default.publish(i.default.TOPICS.VALUE_CHANGE,e)});var h=t[l]||o.core.getValue(l,r);d?e.onchange=function(){return h.apply(r,[e])}:e.oninput=function(){return h.apply(r,[e])},e.onblur=function(){return h.apply(r,[e])}}}else{var m=t[f[0]]||o.core.getValue(f[0],r);e.onclick=function(t){var n=f.slice(1).reduce((function(e,t){return e.push("@"==t.charAt(0)?o.core.getValue(t.slice(1),r):t),e}),[e,t]);return m.apply(r,n)}}}}))}))}},function(e,t,r){"use strict";r.r(t),r.d(t,"DialogHelper",(function(){return n}));var n=function(){function e(){}return e.getWrapper=function(e){var t=document.getElementById(e),r={container:t,title:t.querySelector(".js-title"),body:t.querySelector(".js-content"),closeButton:t.querySelector(".js-close-button"),acceptButton:t.querySelector(".js-accept-button"),close:function(){return t.style.display="none",r},show:function(e){return e&&(r.acceptButton.onclick=function(){e(r)}),t.style.display="block",r},init:function(e){return e&&e(r),r},setTitle:function(e){return r.title.innerHTML=e,r},setBody:function(e){return e.tagName?(r.body.innerHTML="",r.body.appendChild(e)):r.body.innerHTML=e,r},disableClickOutside:function(){return r.container.onclick=function(){},r}};return r.acceptButton.onclick=r.close,r.closeButton.onclick=r.close,r.container.onclick=function(e){e.target===r.container&&r.close()},r},e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=[];function o(e){return new Promise((function(t){if(n.indexOf(e.toLowerCase())>-1)t();else{var r=document.createElement("script");r.type="text/javascript",r.onload=function(){n.push(e.toLowerCase()),t((function(){document.getElementsByTagName("head")[0].removeChild(r),n.remove(e.toLowerCase())}))},r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}}))}},function(e,t,r){"use strict";r.r(t),r.d(t,"Paginator",(function(){return n}));var n=function(){function e(){}return e.paginate=function(e,t,r,n){void 0===t&&(t=1),void 0===r&&(r=10);var o=Math.ceil(e.length/r);t<1?t=1:t>o&&(t=o);var i=(t-1)*r,u=Math.min(i+r-1,e.length-1);return{totalItems:e.length,currentPage:t,pageSize:r,totalPages:o,startIndex:i,endIndex:u,allItems:e,visibleItems:e.slice(i,u+1),title:n,getChecked:function(){return e.where({__checked:!0}).map((function(t,r){return{index:e.indexOf(t),item:t}}))}}},e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"ReportEngine",(function(){return i}));var n=r(0),o=r(3),i=function(){function e(){this.BS={},this.module_ReportEngine_Copy=function(e,t){for(var r in t)if(t.hasOwnProperty(r)){if(e.hasOwnProperty(r)){t[r]=e[r];continue}if("_max_"===r||"_mim_"===r){var n=t[r];for(var o in n)n.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(n[o]=e[o])}if("_values_"===r){var i=t[r];for(var o in i)i.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(i[o]=[e[o]])}}},this.module_ReportEngine_Sum=function(e,t){for(var r in t)if(t.hasOwnProperty(r)){if(e.hasOwnProperty(r)){t[r]+=e[r];continue}if("_max_"===r||"_min_"===r){var n=t[r];for(var o in n)n.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(n[o]="_max_"==r?e[o]>n[o]?e[o]:n[o]:e[o]<n[o]?e[o]:n[o])}if("_values_"===r){var i=t[r];for(var o in i)i.hasOwnProperty(o)&&e.hasOwnProperty(o)&&i[o].add(e[o])}}}}return e.prototype.__cloneRowTemplate=function(e){var t=e.cloneNode(!0);return e.parentNode.parentNode.deleteRow(e.rowIndex),t},e.prototype.__fillTemplate=function(e,t){var r=e.querySelectorAll("[xbind]").toArray();return e.attributes.getNamedItem("xbind")&&r.push(e),r.forEach((function(e){n.core.toArray(e.attributes).where({value:/{[^{]+?}/g}).map((function(e){return e.value=Object(o.merge)(e.value,t)})),n.core.toArray(e.childNodes).where({nodeType:3}).where({textContent:/{[^{]+?}/g}).forEach((function(e){return e.textContent=Object(o.merge)(e.textContent,t,e)})),String.trimValues(e.attributes.getNamedItem("xbind").value.split(";")).forEach((function(r){if(""!==r){var o=String.trimValues(r.split(":")),i=String.trimValues(o[1].split(/\s|\,/)),u=n.core.getValue(i[0],t);if(n.core.isFunction(u)){var a=i.slice(1).reduce((function(e,r){return e.push("@"==r.charAt(0)?n.core.getValue(r.slice(1),t):r),e}),[t,e]);u=u.apply(t,a)}else if(i[1]){u=n.core.getValue(i[1],t)(u,i[2],t,e)}e[o[0]]=u}}))})),e},e.prototype.__mergeTemplate=function(e,t,r,n){var o=this;if(e.forEach)return e.forEach((function(e,i){o.__mergeTemplate(e,t,r[i],n)}));this.__fillTemplate(e,{BS:this.BS}),r.tag||"nofooter"==r.tag||(t.append(e.outerHTML.replace(/xbind="[^"]*"/g,"")),n&&n({sb:t,section:r}))},e.prototype.module_ReportEngine_processAll=function(e){var t=this,r=document.createDocumentFragment();if(r.appendChild(n.core.build("div",{innerHTML:e.ReportTemplate},!1)),e.DetailTemplate=this.__cloneRowTemplate(r.querySelector(e.DetailTemplateSelector)),e.HideTotal){var o=r.querySelector(e.TotalTemplateSelector);o.parentNode.removeChild(o)}else e.TotalTemplate=this.__cloneRowTemplate(r.querySelector(e.TotalTemplateSelector));e.GroupsTemplates=[],e.GroupsTemplates=e.Grupos.map((function(e){return t.__cloneRowTemplate(r.querySelector(e.selector))}));var i=this,u=-1;function a(){e.Grupos.forEach((function(t,r){if(!(r<u)){var o=e.Grupos[r];if(o.header){var a=n.core.getValue(o.header,i)(o.current,o.name);"hidden;"!=a&&(a.text?c.append("<tr {0}>{1}</tr>".format(a.attributes,a.text)):a.row?i.BS.reportDefinition.dom_tbody.appendChild(a.row):c.append('<tr class="group-header">{0}</tr>'.format(a))),e.RepeatHeadersAfter==r&&e.RepeatHeaders.forEach((function(t){""!=t&&c.append(e.Headers[t].html)}))}}}))}var c=n.core.createStringBuilder("");if(e.OnStart(e.DataSet),e.DataSet.forEach((function(r,n){0==n&&a(),e.OnRow(r),e.Grupos.every((function(e){return e.test(r)}))?e.Grupos.forEach((function(e){e.sum(r)})):(e.Grupos.some((function(n,o){if(!n.test(r)){u=o;var i=e.GroupsTemplates.map((function(e){return e}));i.splice(0,o),i.reverse();var a=e.Grupos.map((function(e){return e}));return a.splice(0,o),a.reverse(),t.__mergeTemplate(i,c,a,e.OnGroupFooter),e.Grupos.forEach((function(e,t){t>=o?(e.init(r),u=o):e.sum(r)})),!0}return!1})),e.OnRowEnd(r),a()),e.HideDetail||t.__mergeTemplate(e.DetailTemplate,c,{name:"detail"},e.g)})),e.DataSet.length>0){this.BS.previous=this.BS.data;var s=e.GroupsTemplates.map((function(e){return e}));s.reverse(),e.HideTotal||s.push(e.TotalTemplate);var l=e.Grupos.map((function(e){return e}));l.reverse(),l.push({name:"summary"}),this.__mergeTemplate(s,c,l,e.OnGroupFooter)}return r.querySelector(e.ReportTableSelector).innerHTML.replace("<tbody>","<tbody>"+c.value)},e.prototype.fromReportDefinition=function(e,t,r){var o=this,i=this;this.BS={reportDefinition:e},e.Iteratefn&&t.forEach(e.Iteratefn),e.orderBy&&t.sortBy(e.orderBy,!1);var u=JSON.parse(e.summary||"{}");var a={DataSet:t,HideDetail:"true"==e.hideDetail||!1,HideTotal:0==e.groups.length||"true"==e.HideTotal||!1,ReportTemplate:e.html,ReportTableSelector:"#"+e.tableId,DetailTemplateSelector:"#"+e.details[0].id,TotalTemplateSelector:0==e.groups.length?"":"#"+e.groups.lastItem().id,Grupos:e.groups.where((function(t,r){return r<e.groups.length-1})).map((function(e,t){return{name:"G"+(t+1),selector:"#"+e.id,key:e.key,tag:e.tag||"",current:"",header:e.header,data:n.core.clone(u),init:function(e){var t=e[this.key].toString(),r=i.BS[this.name];r.all[t]=r.all[t]||[],r.all[t].push(e),r.recordCount=1,i.module_ReportEngine_Copy(e,this.data)},sum:function(e){var t=e[this.key].toString(),r=i.BS[this.name];r.all[t]=r.all[t]||[],r.all[t].push(e),r.recordCount+=1,i.module_ReportEngine_Sum(e,this.data)},test:function(e){return e[this.key]==this.current}}}))||[],OnGroupFooter:e.OnGroupFooter,Headers:e.headers,RepeatHeaders:(e.repeatHeader||"").split(","),RepeatHeadersAfter:e.repeatHeaderAfter,OnRow:function(t){i.BS.recordCount+=1,i.BS.previous=i.BS.data||t,i.BS.data=t,a.Grupos.forEach((function(e,t){i.BS[e.name].data=Object.create(e.data)})),i.module_ReportEngine_Sum(t,i.BS.G0),e.onRowfn&&new Function("ctx",e.onRowfn)(o.BS)},OnStart:function(t){i.BS={recordCount:0,G0:n.core.clone(u),dataSet:t,reportDefinition:i.BS.reportDefinition},a.Grupos.forEach((function(e,r){e.current=t&&t[0]?t[0][e.key]:"",i.BS[e.name]={recordCount:0,all:{}}})),e.onStartfn&&e.onStartfn(i.BS)},OnRowEnd:function(t){a.Grupos.forEach((function(e){e.current=t[e.key]})),e.onRowEndfn&&new Function("ctx",e.onRowEndfn)(i.BS)},PrintReport:function(e){return e&&e(o.module_ReportEngine_processAll(a)),o}};return a.PrintReport(r)},e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"loader",(function(){return n}));var n={load:function(e){var t={headers:[],groups:[],details:[]},r=[{columns:[]}],n="",o="";function i(e){return e&&e.trim().startsWith("@")?t[e.trim().split("@")[1].trim()]||"":e?e.trim():""}function u(e){for(var t=/([a-zA-Z0-9_\-]*)\s*:\s*('[^']*'|[^\s]*)/g,r={},n=t.exec(e);null!=n;)r[n[1].trim()]=i(n[2].trim().replace(/^'([^']*)'$/g,"$1")),n=t.exec(e);return r}function a(e){var t=u(e);return t.columns=[],t}function c(e){var t=[];return Object.keys(e).filter((function(t){return"columns"!=t&&"html"!=t&&e.hasOwnProperty(t)})).forEach((function(r){var n="className"==r?"class":r;t.push('{0}="{1}"'.format(n,i(e[r])))})),t.length>0?" "+t.join(" "):""}function s(e,t){if(!n&&!e.trim())return function(){};var i;if(/^(DEFINE|#|ADD_COL|CREATE|FUNCTION|END)/.test(e)){if(/^#/.test(e))return function(){};if(/^FUNCTION (\w.*)/.test(e)){var c=e.match(/^FUNCTION (\w.*)$/);return n=c[1].trim(),o="",function(){}}if(/^END/.test(e)){var s=o,l=n;return n=o="",function(e){e[l]=new Function("ctx",s)}}if(/^ADD_COL /.test(e)){c=e.match(/ADD_COL (.*)$/);return i=c,function(e){r[r.length-1].columns.push(u(i[1]))}}if(/^DEFINE\s\s*(\w.*)\s*=\s*(.*)$/.test(e)){c=e.match(/^DEFINE\s\s*([a-zA-Z0-9_\-]*)\s*=\s*(.*)$/);return function(){var e=c;return function(t){t[e[1].trim()]=e[2].trim()}}()}if(/^CREATE\s\s*(\w*) (.*)$/.test(e))return"header"==(c=e.match(/^CREATE\s\s*(\w*) (.*)$/))[1]?function(){var e=c;return function(t){t.headers.push(a(e[2])),r=t.headers}}():"group"==c[1]?function(){var e=c;return function(t){t.groups.push(a(e[2])),r=t.groups}}():"detail"==c[1]?function(){var e=c;return function(t){t.details.push(a(e[2])),r=t.details}}():function(){var e=c;return function(t){t[e[1]]=e[2]}}();throw new Error("Tabbly : Unrecognized text after DEFINE")}if(n)return o+=t,o+="\n",function(){};throw new Error("Tabbly : Unrecognized text")}return e.split("\n").forEach((function(e){s(e.trim(),e)(t)})),t.html=function(){function e(e,t,r){var n="",o=r?"th":"td";return(e||[]).forEach((function(e,r){var u="";u+="\n      <tr{0}>".format(c(e)),e.columns.forEach((function(e,t){u+="\n        <{2}{0}>{1}</{2}>".format(c(e),i(e.html),o)})),u+="\n      </tr>",e.html=u,t&&t.indexOf(r.toString())>-1||(n+=u)})),n}return'<div id="{3}">\n  <table class= "w3-table-all" style = "width:100%;" id="table-{3}" >\n     <thead>{0}    </thead>\n    <tbody>{1}{2}    </tbody>\n  </table>\n</div>'.format(e(t.headers,(t.hiddenHeaders||"").split(","),!0),e(t.details),e(t.groups),t.tableId||"")}(),t}}},function(e,t,r){"use strict";r.r(t),r.d(t,"ReportEngine",(function(){return o}));var n=r(0),o=function(){function e(){this.BS={}}return e.prototype.generateReport=function(e,t,r){var o=this;r.clear&&r.clear(),r.message({type:"report.begin"});var i=e,u=i.parseData?i.parseData(i,t,r.message):t;r.message({type:"report.log.message",text:"Inicializando..."});var a=function(e,t){t.BS=o.BS,r.send(e.format(t))};function c(){m.forEach((function(e,t){if(!(t<l))return r.message({type:"report.sections.group.header",value:e.id}),e.definition.header?a(e.definition.header,e):e.definition.headerValueProvider?r.send(e.definition.headerValueProvider(e)):void 0}))}function s(e){var t=m.map((function(e){return e}));e&&t.splice(0,e),t.reverse().forEach((function(e){return r.message({type:"report.sections.group.footer",value:e.id}),e.definition.footer?a(e.definition.footer,e):e.definition.footerValueProvider?r.send(e.definition.footerValueProvider(e)):void 0}))}var l=-1,f=function(){var e=JSON.parse(i.summary||"{}");return i.onInitSummaryObject?i.onInitSummaryObject(e):e}(),p=(i.sections||[]).where({type:"header"}),d=(i.sections||[]).where({type:"total"}),h=((i.sections||[]).where({type:"footer"}),i.details||[]),m=i.groups.map((function(e,t){return{name:"G"+(t+1),id:e.id,rd:i,definition:e,current:"",data:n.core.clone(f),init:function(e){var t=e[this.definition.key].toString(),r=o.BS[this.name];r.all[t]=r.all[t]||[],r.all[t].push(e),r.recordCount=1,!1!==this.__resume&&(this.__resume||(this.__resume=Object.keys(this.data).length>0))&&o.copy(e,this.data)},sum:function(e){var t=e[this.definition.key].toString(),r=o.BS[this.name];r.all[t]=r.all[t]||[],r.all[t].push(e),r.recordCount+=1,!1!==this.__resume&&o.sum(e,this.data)},test:function(e){return e[this.definition.key]==this.current}}}))||[];o.BS={reportDefinition:i,mediator:r},i.iteratefn&&(r.message({type:"report.log.message",text:"Inicializando elementos..."}),u.forEach(i.iteratefn)),i.orderBy&&(r.message({type:"report.log.message",text:"Ordenando datos..."}),u.sortBy(i.orderBy,!1)),o.BS={recordCount:0,G0:n.core.clone(f),dataSet:u,reportDefinition:i,mediator:r},m.forEach((function(e,t){e.current=u&&u[0]?u[0][e.definition.key]:"",o.BS[e.name]={recordCount:0,all:{}}})),i.onStartfn&&i.onStartfn(o.BS),[i.sections,i.details,i.groups].reduce((function(e,t){return e.concat(t)}),[]).map((function(e){e.valueProviderfn&&(e.valueProvider=n.core.getValue(e.valueProviderfn,{BS:o.BS}),delete e.valueProviderfn),e.footerValueProviderfn&&(e.footerValueProvider=n.core.getValue(e.footerValueProviderfn,{BS:o.BS}),delete e.footerValueProviderfn),e.headerValueProviderfn&&(e.headerValueProvider=n.core.getValue(e.headerValueProviderfn,{BS:o.BS}),delete e.headerValueProviderfn)})),r.message({type:"report.render.rows"}),r.message({type:"report.log.message",text:"Generando informe..."}),p.forEach((function(e){return r.message({type:"report.sections.header",value:e}),e.template?a(e.template,e):e.valueProvider?r.send(e.valueProvider(e)):void 0})),u.length>0&&c(),u.forEach((function(e,t){if(o.BS.recordCount++,o.BS.isLastRow=u.length===o.BS.recordCount,o.BS.isLastRowInGroup=o.BS.isLastRow,o.BS.percent=o.BS.recordCount/u.length*100,o.BS.previous=o.BS.data||e,o.BS.data=e,m.forEach((function(e,t){o.BS[e.name].data=Object.create(e.data)})),o.sum(e,o.BS.G0),i.onRowfn&&i.onRowfn(o.BS),r.message({type:"report.render.row",text:o.BS.percent.toFixed(1)+" %",value:o.BS.percent}),m.every((function(t){return t.test(e)}))?m.forEach((function(t){t.sum(e)})):(m.some((function(t,r){return!t.test(e)&&(s(l=r),m.forEach((function(t,n){n>=l?(t.init(e),l=r):t.sum(e)})),!0)})),m.forEach((function(t){t.current=e[t.definition.key]})),i.onGroupChangefn&&i.onGroupChangefn(o.BS),r.message({type:"report.sections.group.change",value:m}),c()),m.length&&!o.BS.isLastRow){var n=u[o.BS.recordCount];o.BS.isLastRowInGroup=!m.every((function(e){var t=e.definition.key;return n[t]===o.BS.data[t]}))}h.forEach((function(e){return r.message({type:"report.sections.detail",value:e.id}),e.template?a(e.template,e):e.valueProvider?r.send(e.valueProvider(e)):void 0}))})),u.length>0&&(o.BS.previous=o.BS.data,s()),d.forEach((function(e){return r.message({type:"report.sections.total",value:e.id}),e.template?a(e.template,e):e.valueProvider?r.send(e.valueProvider(e)):void 0})),r.message({type:"report.render.end"}),r.message({type:"report.end"}),r.flush&&r.flush()},e.prototype.merge=function(e,t){return e.replace(/{([^{]+)?}/g,(function(e,r){if(r.indexOf(":")>0){var o=r.split(":");return o[0]=n.core.getValue(o[0],t),o[1]=n.core.getValue(o[1],t),o[0](o[1],t)}var i=n.core.getValue(r,t);return"function"==typeof i?i(t):i}))},e.prototype.copy=function(e,t){Object.keys(t).map((function(r){t[r]=e[r]}))},e.prototype.sum=function(e,t){Object.keys(t).map((function(r){t[r]+=e[r]}))},e.prototype.compute=function(e,t){return e.reduce((function(e,r){return e+r[t]}),0)},e.prototype.group=function(e,t){var r=e,n=function(e,o){return r.distinct((function(t){return t[e]})).forEach((function(n){t[n]=r.reduce((function(t,r,i,u){return r[e]==n?t+r[o]:t}),0)})),n};return n},e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"loader",(function(){return n}));var n={load:function(e){var t={sections:[],groups:[],details:[]},r={},n="",o="",i=!1;function u(e){return e&&e.trim().startsWith("@")?t[e.trim().split("@")[1].trim()]||"":e?e.trim():""}function a(e){for(var t=/([a-zA-Z0-9_\-]*)\s*:\s*('[^']*'|[^\s]*)/g,r={},n=t.exec(e);null!=n;)r[n[1].trim()]=u(n[2].trim().replace(/^'([^']*)'$/g,"$1")),n=t.exec(e);return r}return e.split("\n").forEach((function(e){!function(e,t){if(!n&&!e.trim())return function(){};var u;if(!/DEFINE|#|CREATE|SET|FUNCTION|END/.test(e)){if(n)return o+=t,o+="\n",function(){};throw new Error("Tabbly : Unrecognized text")}if(/^#/.test(e))return function(){};if(/^SET (\w.*)/.test(e)){var c=e.match(/^SET (\w.*)$/);return i=!0,n=c[1].trim(),o="",function(){}}if(/^FUNCTION (\w.*)/.test(e)){var c=e.match(/^FUNCTION (\w.*)$/);return i=!1,n=c[1].trim(),o="",function(){}}if(/^END/.test(e)){var s=o,l=n;return n=o="",i?(i=!1,function(e){r[l]=s.trim()}):function(e){e[l]=new Function("ctx",s)}}if(/^DEFINE\s\s*(\w.*)\s*=\s*(.*)$/.test(e)){c=e.match(/^DEFINE\s\s*([a-zA-Z0-9_\-]*)\s*=\s*(.*)$/);return u=c,function(e){e[u[1].trim()]=u[2].trim()}}if(!/^CREATE\s\s*(\w*) (.*)$/.test(e))throw new Error("Tabbly : Unrecognized text after DEFINE");return"section"==(c=e.match(/^CREATE\s\s*(\w*) (.*)$/))[1]?function(){var e=c;return function(t){t.sections.push(a(e[2])),r=t.sections[t.sections.length-1]}}():"group"==c[1]?function(){var e=c;return function(t){t.groups.push(a(e[2])),r=t.groups[t.groups.length-1]}}():"detail"==c[1]?function(){var e=c;return function(t){t.details.push(a(e[2])),r=t.details[t.details.length-1]}}():void 0}(e.trim(),e)(t)})),t}}},function(e,t){e.exports="1.0"},function(e,t,r){"use strict";r.r(t),r.d(t,"EditableGrid",(function(){return o}));var n=r(1),o=function(){function e(t,r,o){var i=this;this.currentIndex=-1,this.previous=void 0,this.table=t;var u=function(t){var o=t.target,u=o.parentNode,a=u.parentNode;i.previous=o.textContent.trim(),i.currentIndex=a.rowIndex;var c={tr:a,td:u,target:o,current:i.previous};n.default.publish(e.OnfocusMessage,c),r&&r(i,c)},a=function(t){var r=t.target,u=r.parentNode,a=u.parentNode;if(null!=i.previous&&i.previous!=u.textContent.trim()){var c={tr:a,td:u,target:r,previous:i.previous,current:r.textContent.trim()};n.default.publish(e.OnChangeMessage,c),o&&o(i,c),i.previous=void 0}r.style.outline="1px solid transparent"};t.querySelectorAll("td div[contenteditable]").toArray().forEach((function(e){e.onblur=a,e.onfocus=u})),t.onkeypress=function(e){if(13==e.keyCode)return e.preventDefault&&e.preventDefault(),!1},t.onkeydown=function(e){var r=!0,n=e.target;if("DIV"==n.tagName&&[13,37,38,39,40].indexOf(e.keyCode)>-1){var o=n.parentNode,i=o.parentNode,u=window.getSelection().getRangeAt(0).startOffset,a=function(t,n,o){e.preventDefault();try{t.rows[n].cells[o].firstElementChild.focus()}catch(e){}r=!1};13==e.keyCode&&a(t,i.rowIndex,o.cellIndex+1),38==e.keyCode&&i.rowIndex>1&&a(t,i.rowIndex-1,o.cellIndex),40==e.keyCode&&i.rowIndex<t.rows.length-1&&a(t,i.rowIndex+1,o.cellIndex),39==e.keyCode&&u==n.textContent.length&&a(t,i.rowIndex,o.cellIndex+1),37==e.keyCode&&0==u&&a(t,i.rowIndex,o.cellIndex-1)}return r}}return e.OnfocusMessage="editable-grid/focus",e.OnChangeMessage="editable-grid/change",e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"TextViewer",(function(){return f}));var n=r(0),o=r(4),i=r(5),u=r.n(i),a="data:text/css;base64,"+window.btoa(u.a),c='<div class="scv_Main">  <pre class="scv_LineContainer" id="svc_{0}_line"></pre>  <pre class="scv_TextContainer" id="svc_{0}_code"></pre></div>',s=0,l=!1;var f=function(){function e(){var e=this;this.id="svc_{0}".format(++s),l||(document.querySelector("head").appendChild(n.core.build("link",{rel:"stylesheet",type:"text/css",href:a})),l=!0),this._control=n.core.build("div",{className:"svc_viewer",id:this.id,innerHTML:c.format(s)}),this._control.querySelector(".scv_Main").onscroll=function(t){var r=t.target;e._control.querySelector(".scv_LineContainer").style.left="{0}px".format(r.scrollLeft)},this.onclick=new o.CoreEvent("txt-viewer.onclick")}return e.prototype.setContent=function(e){var t=this;this._control.querySelector(".scv_LineContainer").innerHTML=e.replace(/(\r\n|\r|\n)/gm,"\n").split("\n").reduce((function(e,t,r){return e+(r+1+"<br/>")}),"");var r=this._control.querySelector(".scv_TextContainer");return r.textContent=e,r.onclick=function(e){return t.onclick.dispatch(e)},this},e.prototype.getControl=function(){return this._control},e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"CollapsibleBox",(function(){return a}));var n=r(0),o=r(4),i='<div id="collapsible-box-{0}" class="w3-border">  <button class="w3-block w3-border-0" style="outline-style:none">{1}<i style="margin: 2px;" class="fa fa-chevron-down w3-right"></i></button>  <div class="w3-hide w3-border-top" style="overflow:auto"></div></div>',u=0,a=function(){function e(e,t,r,a){var c=this;void 0===e&&(e="t�tulo"),void 0===r&&(r=function(e){}),void 0===a&&(a="10em"),this.loaded=!1,this.collapsed=!0,this.onexpand=new o.CoreEvent("CollapsibleBox.onexpand"),this._onExpand=function(e){},this._control=n.core.build("div",{innerHTML:i.format(++u,e)},!0),this._header=this._control.querySelector("button"),this._body=this._control.querySelector("div"),this._header.onclick=function(e){c.collapsed?c.expand():c.collapse()},"-"!=a&&(this._body.style.height=a),t&&this.setContent(t),this._onExpand=r}return e.create=function(t,r){return void 0===t&&(t="t�tulo"),void 0===r&&(r="10em"),new e(t,"",void 0,r)},e.prototype.hide=function(){return this.collapse(),this._header.classList.add("w3-hide"),this},e.prototype.show=function(){return this._header.classList.remove("w3-hide"),this},e.prototype.appendTo=function(e){return e.appendChild(this._control),this},e.prototype.collapse=function(){this._body.classList.add("w3-hide");var e=this._header.querySelector("i");return e.classList.remove("fa-chevron-up"),e.classList.add("fa-chevron-down"),this.collapsed=!0,this},e.prototype.expand=function(){this._body.classList.remove("w3-hide");var e=this._header.querySelector("i");return e.classList.remove("fa-chevron-down"),e.classList.add("fa-chevron-up"),this._onExpand&&this._onExpand(this),this.onexpand.dispatch(this),this.collapsed=!1,this},e.prototype.getControl=function(){return this._control},e.prototype.getBody=function(){return this._body},e.prototype.setContent=function(e){return n.core.isString(e)?this._body.innerHTML=e:(this._body.innerHTML="",this._body.appendChild(e)),this},e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"TreeUtils",(function(){return u}));var n=r(2),o=r(3),i=r(0),u=function(){function e(){}return e.createTree=function(e,t){var r=e.groupBy(t.join(","));return Object.entries(r).reduce((function(e,t){return t[0].split("__").reduce((function(e,r,o,i){return e[r]=e[r]||(o==i.length-1?{rows:Object(n.a)(t[1])}:{})}),e),e}),{})},e.treeToHtml=function(e,t,r){var n=0,i=function(e,u,a){var c={name:u,parent:a,deep:n++,rows:e.rows,innerHTML:"",children:Object.keys(e).where((function(e){return"rows"!=e})).sort().map((function(t){return{name:t,value:e[t]}}))};return e.rows?(n--,Object(o.executeTemplate)(r,[c])):(c.innerHTML=c.children.reduce((function(e,t){return e+i(t.value,t.name,c)}),""),n--,t.format(c))};return i(e,"root")},e.treeToText=function(e){var t=0,r=function(e,n,o){var u={name:n,parent:o,deep:t++,rows:e.rows,innerText:"",children:Object.keys(e).where((function(e){return"rows"!=e})).sort().map((function(t){return{name:t,value:e[t]}}))};return e.rows?(t--,"{0} {1}\n{0}  {2}\n".format(" ".repeat(2*u.deep),u.name,i.core.join(e.rows,"ID","\n"+" ".repeat(2+2*u.deep)))):(u.innerText=u.children.reduce((function(e,t){return e+r(t.value,t.name,u)}),""),t--,"{0} {name}\n{innerText}".format(" ".repeat(2*u.deep),u))};return r(e,"root")},e}()}])}));
//# sourceMappingURL=rcg.bundle.min.js.map